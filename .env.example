# SmartMind Estratoos Plugin — Environment Overrides
#
# Copy this file to .env and adjust values for your environment.
# These override the database config values (mdl_config_plugins).
# The .env file is NOT distributed with the plugin (excluded from ZIP).
#
# To apply changes: copy plugin files to container and purge caches.

# === Webhook Settings ===

# SmartLearning API base URL (webhook dispatch + activation).
WEBHOOK_URL=https://api-inbox.smartlxp.com

# Enable/disable webhook dispatch (1 = enabled, 0 = disabled).
WEBHOOK_ENABLED=1

# Skip Moodle's curl security check that blocks private/reserved IPs (1 = skip, 0 = enforce).
# Set to 1 for local development when SmartLearning runs on a private IP (e.g. 172.x, 10.x).
# In production, leave at 0 — SmartLearning uses public domains.
CURL_IGNORE_SECURITY=0

# === Service User ===

# Email address for the SmartLearning service user created on this Moodle instance.
# This user handles API callbacks from SmartLearning (toggle access, create users, etc.).
SERVICE_USER_EMAIL=noreply-smartlearning@smartmind.net

# === SmartLearning Integration (OAuth2/OIDC Embed) ===

# SmartLearning backend URL for JWT validation and progress events.
OAUTH2_ISSUER_URL=https://api-inbox.smartlxp.com

# Origins allowed to embed Moodle activities in iframes (comma-separated).
OAUTH2_ALLOWED_ORIGINS=https://inbox.smartlxp.com

# JWKS cache TTL in seconds (how long public keys are cached).
OAUTH2_JWKS_CACHE_TTL=3600
