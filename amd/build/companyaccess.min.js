define(["jquery"],function(c){function e(){var o=c(".company-checkbox:checked").length;c("#selected-count").text(o+" companies selected")}function n(){c(".company-checkbox").each(function(){var o=c(this),e=o.closest(".company-item"),n=e.find(".company-status-badge");o.is(":checked")?0===n.length?e.find(".custom-control-label").append('<span class="badge badge-success ml-2 company-status-badge">Enabled</span>'):n.removeClass("badge-secondary").addClass("badge-success").text("Enabled"):0===n.length?e.find(".custom-control-label").append('<span class="badge badge-secondary ml-2 company-status-badge">Disabled</span>'):n.removeClass("badge-success").addClass("badge-secondary").text("Disabled")})}return{init:function(){window.console&&window.console.log&&window.console.log("SM_ESTRATOOS: companyaccess init() called"),c(function(){window.console&&window.console.log&&(window.console.log("SM_ESTRATOOS: DOM ready, binding events"),window.console.log("SM_ESTRATOOS: Found "+c(".company-item").length+" company items"),window.console.log("SM_ESTRATOOS: Search input exists: "+(0<c("#company-search").length))),c(document).on("input keyup","#company-search",function(){var e=c(this).val().toLowerCase().trim();window.console&&window.console.log&&window.console.log('SM_ESTRATOOS: Search filter: "'+e+'"'),c(".company-item").each(function(){var o=c(this).attr("data-name")||"";""===e||-1!==o.indexOf(e)?c(this).show():c(this).hide()})}),c(document).on("click","#select-all-companies",function(o){o.preventDefault(),window.console&&window.console.log&&window.console.log("SM_ESTRATOOS: Select All clicked"),c(".company-checkbox:visible").prop("checked",!0),e(),n()}),c(document).on("click","#deselect-all-companies",function(o){o.preventDefault(),window.console&&window.console.log&&window.console.log("SM_ESTRATOOS: Deselect All clicked"),c(".company-checkbox:visible").prop("checked",!1),e(),n()}),c(document).on("change",".company-checkbox",function(){window.console&&window.console.log&&window.console.log("SM_ESTRATOOS: Checkbox changed"),e(),n()}),e(),window.console&&window.console.log&&window.console.log("SM_ESTRATOOS: All event handlers bound successfully")})}}});