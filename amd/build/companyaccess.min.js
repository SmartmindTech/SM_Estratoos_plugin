define("local_sm_estratoos_plugin/companyaccess",["jquery"],(function($){"use strict";var updateCount=function(){var count=$(".company-checkbox:checked").length;$("#enabled-count").next("strong").text(count)},filterCompanies=function(filter){$(".company-item").each((function(){var name=$(this).attr("data-name");name||(name=""),""===filter||-1!==name.indexOf(filter)?$(this).show():$(this).hide()}))};return{init:function(){var $searchInput=$("#company-search"),$companyItems=$(".company-item");window.console&&window.console.log&&(window.console.log("SM_ESTRATOOS: companyaccess module initialized"),window.console.log("SM_ESTRATOOS: Found "+$companyItems.length+" company items"),window.console.log("SM_ESTRATOOS: Search input found: "+($searchInput.length>0))),$searchInput.on("input keyup",(function(){var filter=$(this).val().toLowerCase().trim();filterCompanies(filter)})),$("#select-all-companies").on("click",(function(){$(".company-checkbox:visible").prop("checked",!0),updateCount()})),$("#deselect-all-companies").on("click",(function(){$(".company-checkbox:visible").prop("checked",!1),updateCount()})),$(document).on("change",".company-checkbox",(function(){updateCount()})),updateCount()}}}));
